<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
  import {
    getAuth,
    signInWithEmailAndPassword,
    setPersistence,
    browserLocalPersistence
  } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCpMfebvCejqvlwoU7mVQXB500iE9xo8_8",
    authDomain: "seoindiaonline-dec25.firebaseapp.com",
    projectId: "seoindiaonline-dec25",
    storageBucket: "seoindiaonline-dec25.firebasestorage.app",
    messagingSenderId: "657989422876",
    appId: "1:657989422876:web:01f521dbc140af58e774d9"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // ðŸ”’ Ensure session persists on GitHub Pages
  await setPersistence(auth, browserLocalPersistence);

  document.getElementById("loginBtn").onclick = async () => {
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();
    const msg = document.getElementById("message");

    msg.textContent = "";

    try {
      await signInWithEmailAndPassword(auth, email, password);
      msg.style.color = "green";
      msg.textContent = "Login successful!";
      setTimeout(() => {
        location.href = "submit-post.html";
      }, 1000);
    } catch (error) {
      msg.textContent = error.code + " : " + error.message;
    }
  };
    </script>
