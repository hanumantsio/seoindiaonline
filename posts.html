<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>All Posts | SEO India Online Free Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="icon" href="https://seoindiaonline.com/wp-content/uploads/2025/04/logo.png">
<link rel="canonical" href="https://hanumantsio.github.io/seoindiaonline/">

<style>
body{font-family:Arial;background:#f4f6f8;margin:0}
nav{background:#062f4f;padding:12px;text-align:center}
nav a{color:#fff;margin:0 12px;font-weight:bold;text-decoration:none}
.container{max-width:1000px;margin:30px auto;background:#fff;padding:30px}
h3 a{color:#0a3d62;text-decoration:none}
</style>
</head>

<body>

<nav>
  <a href="index.html">Home</a>
  <a href="posts.html">Posts</a>
  <a href="submit-post.html">Submit</a>
</nav>

<div class="container">
  <h1>All Blog Posts</h1>
  <div id="posts">Loading postsâ€¦</div>
</div>

<script type="module">
import { db } from "./firebase.js";
import {
  collection,
  getDocs,
  query,
  orderBy
} from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

const postsDiv = document.getElementById("posts");

const q = query(collection(db,"posts"), orderBy("createdAt","desc"));
const snap = await getDocs(q);

postsDiv.innerHTML = "";

if (snap.empty) {
  postsDiv.innerHTML = "<p>No posts found.</p>";
}

snap.forEach(docSnap => {
  const p = docSnap.data();

  // ðŸ”’ SAFETY: skip posts without slug
  if (!p.slug) return;

  postsDiv.innerHTML += `
    <h3>
      <a href="post.html?slug=${p.slug}">
        ${p.title}
      </a>
    </h3>
  `;
});
</script>

</body>
</html>
